## 프로젝트 설명

- 프로젝트 명 : DietProject

    💥 주요 기능
  
      1. 로그인, 프로필 입력
  
         - 회원가입 시 성별, 체중, 키, 활동량 입력 후 그에 따른 다이어트를 위한 일일 개인 권장 섭취 칼로리 계산
  

      2. 홈 화면

         -  홈 화면에서 식단 버튼을 눌러 먹은 음식을 검색 후 먹은 양에 따라 칼로리 추가
  
         -  홈 화면의 프로그레스바로 섭취량을 표시하고, 화면 하단에 권장 칼로리, 당일 섭취 칼로리, 부족한 칼로리를 텍스트로 표시
  
         -  추가된 칼로리를 홈 화면에 표시하고 섭취량이 부족할 경우, 충분한 경우, 초과한 경우로 나눠 이미지 표시
  

      3. 캘린더 화면

         -  당일 날짜를 기준으로 월 별로 캘린더를 표시 (서드 파티 라이브러리 이용)

         -  캘린더의 당일 날짜에는 검은색 원으로 표시가 되며 캘린더의 날짜를 누를 시 그 날의 총 섭취 칼로리와 먹었던 음식, 음식의 칼로리, 제조사 등을 표시

         -  공유 버튼을 만들어 해당 날의 먹은 음식과 칼로리를 공유할 수 있도록 함(구현 중 사정이 생겨서 아직 미완)
  
  
      4. 체중 변화 차트 화면

         -  주 별로 나누어 차트로 확인할 수 있도록 구현 (서드 파티 라이브러리 이용)

         -  해당 주의 총 섭취 칼로리와 먹은 칼로리를 달리기로 뺄 때 몇 시간을 뛰어야 하는지 표시.


      5. 개인 정보 화면

         -  프로필 사진 등록과 이메일, 이름, 목표 체중, 설정 등의 개인 정보에 관련된 화면

         -  화면 하단에 가장 많이 먹은 날, 한번에 가장 많이 섭취한 칼로리, 하루 평균 섭취 칼로리를 확인하여 반성할 기회를 주는 반성문 구현




  


  
## 프로젝트 전체 구조

Clean Arcitecture에 맞춰 MVVM 아키텍처 패턴을 사용하였습니다.

<img width="900" height="200" src="https://github.com/choieuihyun/DietProject/assets/59135621/fdf66438-23d3-41e7-8306-8bc03b3a37f0"/>


## 프로젝트 세부 구조

#### data layer

    ```
    📦 data
    ├─ dataSource
    │  ├─ remoteDatasource
    │  │  ├─ FirebaseDatasource
    │  │  └─ KcalDatasource
    │  └─ localDatasource
    ├─ db
    │  ├─ local
    │  └─ remote
    │     ├─ api
    │     ├─ userEntity
    │     ├─ response
    │     └─ interactor
    ├─ di
    │  ├─ apiModule
    │  ├─ NetworkModule
    │  └─ RepositoryModule
    ├─ mapper
    │  └─ KcalMapper
    └─ repository
       ├─ FirebaseRepositoryImpl
       └─ KcalRepositoryImpl
    ``


#### domain layer

```
📦 domain
├─ error
│  ├─ NetworkError
│  ├─ NetworkErrorHandler
│  └─ NetworkResult
├─ model
│  ├─ KcalModel
│  └─ UserModel
├─ repository
│  ├─ FirebaseRepository
│  └─ KcalRepository
└─ usecase
   └─ so many UseCase
```

#### presentation layer

```
📦 presentation
├─ calendar
│  └─ Adapter, ViewHolder, ViewModel, Fragment
├─ home
│  └─ Fragment, ViewModel
├─ info
│  └─ Fragment, ViewModel
├─ login
│  └─ Fragment, ViewModel
├─ personal_info
│  └─ Fragment, ViewModel
├─ signup
│  └─ Fragment
├─ userkcal
│  └─ Adapter, ViewHolder, ViewModel, Fragment
├─ util
│  ├─ BackPressedHandler
│  ├─ Event
│  └─ Extends(Network)
├─ weightchart
│  └─ MarkerView, Fragment, viewModel
├─ BaseFragment
├─ LoadingProgress
└─ MainActivity
```
©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

💥 활용 해보거나 내 생각대로 구현해 본 것들. (너무 길어져서 일부만 작성)

💡 Activity를 계속 만들어 사용하기 보다 앱을 좀 더 가볍게 만들어보자.
  
        - MainActivity 하나만 두고 나머지는 프래그먼트로 구성하여 SAA 구조로 작성
        - Fragment를 다수 생성함에 따라 BaseFragment를 만들어 중복 코드 제거

💡 화면 간 이동, 데이터 전달 시에 프래그먼트 매니저를 이용해 트랜잭션을 제어하는 것보다 간편한 방법을 찾아보자.
  
        - Jetpack Navigation을 사용하여 프래그먼트간 이동, 데이터 전달 시각화
        - safe args를 사용하여 데이터 전달간 안전성 보장

💡 Clean Architecture 구조로 구현한다면 각각의 의존성 문제는 어떻게 해결할까.

        - Hilt 의존성 주입 프레임워크를 사용하여 해결
        - Repository, 외부 통신들은 모듈화하여 싱글톤 컴포넌트를 사용하여 생성

💡 싱글톤으로 만들어지는 Repository에 왜 굳이 데이터가 들어갈 변수들을 선언했나.

        - 앱의 수정을 하다가 RepositoryImpl에서 데이터를 처리하는 로직과 처리된 데이터가 담길 변수가 따로 존재해야 한다고 판단하였음
        - RepositoryImpl에서 데이터를 받아오는 로직 내에서 리턴해야하는 값이 세 개였기 때문에 위처럼 판단하였음

💡 UseCase에서 RepositoryImpl에서 반환한 LiveData를 그대로 사용하지 않고 내부의 value값을 리턴했나.

        - Domain Layer는 순수 비즈니스 로직이기 때문에 외부 라이브러리를 사용하면 안된다고 알고있음.
        - 그로 인해 UseCase에서 RepositoryImpl에서 반환한 LiveData 내부의 값을 반환하도록 함.
        - 이러한 문제점으로 인해 Kotlin Flow를 쓴다고 알고있음.
        - 적다가 문제점 발견 : Repository Interface도 Domain layer라서 여기에도 LiveData가 있으면 안됨. 수정해야함.

💡 차트에서 util의 event는 왜 사용했나.

        - 차트 구현 도중 이전 주, 다음 주로 이동할 때 차트 내부의 데이터 타입인 Entry에 데이터가 중복되어 쌓이는 에러가 발생.
        - 이로 인해 빠르게 이전 주, 다음 주로 넘어갈 시 앱의 속도가 현저히 느려져 방지하기 위해 사용.
        
💡 외부와 통신해야하는 경우가 있는데 메인스레드에서는 못하는데 어떻게 할까.

        - 코루틴을 사용하여 백그라운드 스레드에서 비동기로 처리.

💡 viewModel을 사용하여 실시간으로 변하는 데이터를 어떻게 표시할 것인가.

        - LiveData와 Databinding을 활용하여 observe되는 데이터가 변경 시 바로 화면에 표시 되어지도록 함.



푸념 : 디자인 때문에 진짜 너무 어렵다. 디자인 못하겠습니다.




